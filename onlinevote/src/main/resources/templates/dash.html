<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoteNow - Online Voting Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../static/css/dash.css">
    <meta name="description" content="VoteNow - Secure online voting platform dashboard">
    <meta name="theme-color" content="#4f46e5">
</head>
<body>
<div class="dashboard">
    <!-- Sidebar Navigation -->
    <nav class="sidebar" aria-label="Main navigation">
        <div class="logo">
            <i class="fas fa-vote-yea" aria-hidden="true"></i>
            <h2>VoteNow</h2>
            <button class="sidebar-toggle" aria-label="Toggle sidebar" aria-expanded="false">
                <i class="fas fa-bars" aria-hidden="true"></i>
            </button>
        </div>
        <ul class="nav-menu" role="menubar">
            <li class="nav-item" role="none">
                <a href="#dashboard" class="nav-link active" role="menuitem" aria-current="page" data-section="dashboard">
                    <i class="fas fa-home" aria-hidden="true"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            <li class="nav-item" role="none">
                <a href="#elections" class="nav-link" role="menuitem" data-section="elections">
                    <i class="fas fa-vote-yea" aria-hidden="true"></i>
                    <span>Elections</span>
                </a>
            </li>
            <li class="nav-item" role="none">
                <a href="#candidates" class="nav-link" role="menuitem" data-section="candidates">
                    <i class="fas fa-users" aria-hidden="true"></i>
                    <span>Candidates</span>
                </a>
            </li>
            <li class="nav-item" role="none">
                <a href="#voters" class="nav-link" role="menuitem" data-section="voters">
                    <i class="fas fa-user-friends" aria-hidden="true"></i>
                    <span>Voters</span>
                </a>
            </li>
            <li class="nav-item" role="none">
                <a href="#voteoffice" class="nav-link" role="menuitem" data-section="voteoffice">
                    <i class="fa-solid fa-building" aria-hidden="true"></i>
                    <span>Vote Office</span>
                </a>
            </li>
            <li class="nav-item" role="none">
                <a href="#results" class="nav-link" role="menuitem" data-section="results">
                    <i class="fas fa-chart-bar" aria-hidden="true"></i>
                    <span>Results</span>
                </a>
            </li>
            <li class="nav-item" role="none">
                <a href="#settings" class="nav-link" role="menuitem" data-section="settings">
                    <i class="fas fa-cog" aria-hidden="true"></i>
                    <span>Settings</span>
                </a>
            </li>
        </ul>
        <ul class="nav-menu logout" role="menu">
            <li class="nav-item" role="none">
                <a href="#" class="nav-link" id="logout-btn" role="menuitem">
                    <i class="fas fa-sign-out-alt" aria-hidden="true"></i>
                    <span>Logout</span>
                </a>
            </li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <header class="header">
            <div class="search-bar">
                <label for="main-search" class="sr-only">Search elections, candidates</label>
                <i class="fas fa-search" aria-hidden="true"></i>
                <input type="search" id="main-search" placeholder="Search elections, candidates..." aria-label="Search">
            </div>
            <div class="user-profile">
                <div class="notification-bell">
                    <button class="notification-button" aria-label="Notifications" aria-expanded="false">
                        <i class="fas fa-bell" aria-hidden="true"></i>
                        <span class="notification-count">3</span>
                    </button>
                    <div class="notification-dropdown" role="menu">
                        <div class="notification-header">
                            <h4>Notifications</h4>
                            <button class="mark-all-read" aria-label="Mark all notifications as read">Mark all as read</button>
                        </div>
                        <div class="notification-item unread" role="menuitem">
                            <div class="notification-icon">
                                <i class="fas fa-vote-yea" aria-hidden="true"></i>
                            </div>
                            <div class="notification-content">
                                <p>New vote submitted for Student Council Election</p>
                                <small>2 minutes ago</small>
                            </div>
                        </div>
                        <div class="notification-item" role="menuitem">
                            <div class="notification-icon">
                                <i class="fas fa-user-plus" aria-hidden="true"></i>
                            </div>
                            <div class="notification-content">
                                <p>5 new voters registered today</p>
                                <small>1 hour ago</small>
                            </div>
                        </div>
                        <div class="notification-item" role="menuitem">
                            <div class="notification-icon">
                                <i class="fas fa-exclamation-circle" aria-hidden="true"></i>
                            </div>
                            <div class="notification-content">
                                <p>System maintenance scheduled for tonight</p>
                                <small>3 hours ago</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="profile-dropdown">
                    <button class="profile-button" aria-label="User profile" aria-expanded="false">
                        <img th:src="#" alt="User profile" class="profile-img">
                        <div class="user-info">
                            <h4>Super Admin</h4>
                            <p>Admin</p>
                        </div>
                    </button>
                    <div class="dropdown-menu" role="menu">
                        <a href="#profile" role="menuitem"><i class="fas fa-user" aria-hidden="true"></i> My Profile</a>
                        <a href="#settings" role="menuitem"><i class="fas fa-cog" aria-hidden="true"></i> Settings</a>
                        <div class="divider"></div>
                        <a href="#" id="logout-dropdown-btn" role="menuitem"><i class="fas fa-sign-out-alt" aria-hidden="true"></i> Logout</a>
                    </div>
                </div>
            </div>
        </header>

        <!-- Dashboard Content (shown by default) -->
        <section id="dashboard-content" class="content-section active" aria-labelledby="dashboard-heading">
            <h2 id="dashboard-heading" class="sr-only">Dashboard Overview</h2>
            
            <!-- Dashboard Cards -->
            <div class="dashboard-cards">
                <article class="card">
                    <div class="card-header">
                        <div>
                            <h3 class="card-title">Total Voters</h3>
                            <div class="card-value">2,451</div>
                            <div class="card-change positive">
                                <i class="fas fa-arrow-up" aria-hidden="true"></i> 12% from last month
                            </div>
                        </div>
                        <div class="card-icon voters">
                            <i class="fas fa-user-friends" aria-hidden="true"></i>
                        </div>
                    </div>
                    <a href="#voters" class="card-link">View all voters</a>
                </article>
                
                <article class="card">
                    <div class="card-header">
                        <div>
                            <h3 class="card-title">Active Elections</h3>
                            <div class="card-value">8</div>
                            <div class="card-change positive">
                                <i class="fas fa-arrow-up" aria-hidden="true"></i> 2 new this week
                            </div>
                        </div>
                        <div class="card-icon elections">
                            <i class="fas fa-vote-yea" aria-hidden="true"></i>
                        </div>
                    </div>
                    <a href="#elections" class="card-link">Manage elections</a>
                </article>
                
                <article class="card">
                    <div class="card-header">
                        <div>
                            <h3 class="card-title">Candidates</h3>
                            <div class="card-value">127</div>
                            <div class="card-change negative">
                                <i class="fas fa-arrow-down" aria-hidden="true"></i> 3 withdrawn
                            </div>
                        </div>
                        <div class="card-icon candidates">
                            <i class="fas fa-users" aria-hidden="true"></i>
                        </div>
                    </div>
                    <a href="#candidates" class="card-link">View candidates</a>
                </article>
                
                <article class="card">
                    <div class="card-header">
                        <div>
                            <h3 class="card-title">Completed</h3>
                            <div class="card-value">24</div>
                            <div class="card-change positive">
                                <i class="fas fa-arrow-up" aria-hidden="true"></i> 5 this quarter
                            </div>
                        </div>
                        <div class="card-icon completed">
                            <i class="fas fa-check-circle" aria-hidden="true"></i>
                        </div>
                    </div>
                    <a href="#results" class="card-link">View results</a>
                </article>
            </div>

            <!-- Active Elections Section -->
            <section aria-labelledby="active-elections-heading">
                <div class="section-header">
                    <h3 id="active-elections-heading" class="section-title">
                        <i class="fas fa-vote-yea" aria-hidden="true"></i> Active Elections
                    </h3>
                    <div class="section-actions">
                        <button class="btn btn-outline" aria-label="Schedule new election">
                            <i class="fas fa-calendar-plus" aria-hidden="true"></i> Schedule New
                        </button>
                    </div>
                </div>
                <div class="elections-grid">
                    <article class="election-card">
                        <div class="election-banner">
                            <i class="fas fa-landmark" aria-hidden="true"></i>
                            <span class="election-status active">Active • 3 days left</span>
                        </div>
                        <div class="election-details">
                            <h4 class="election-title">Student Council Election 2024</h4>
                            <div class="election-meta">
                                <div class="election-date">
                                    <i class="far fa-calendar-alt" aria-hidden="true"></i> May 15 - May 30
                                </div>
                                <div><i class="fas fa-users" aria-hidden="true"></i> 4 candidates</div>
                            </div>
                            <div class="progress-container">
                                <div class="progress-label">
                                    <span>Participation (1,245 voters)</span>
                                    <span>62%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 62%" aria-valuenow="62" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                            <div class="election-stats">
                                <div class="stat-item">
                                    <i class="fas fa-check-circle" aria-hidden="true"></i>
                                    <span>782 Verified</span>
                                </div>
                                <div class="stat-item">
                                    <i class="fas fa-user-clock" aria-hidden="true"></i>
                                    <span>463 Pending</span>
                                </div>
                            </div>
                            <div class="election-actions">
                                <button class="btn btn-outline" aria-label="View election results">
                                    <i class="fas fa-chart-bar" aria-hidden="true"></i> Results
                                </button>
                                <button class="btn btn-primary" aria-label="Manage election">
                                    <i class="fas fa-cog" aria-hidden="true"></i> Manage
                                </button>
                            </div>
                        </div>
                    </article>

                    <article class="election-card">
                        <div class="election-banner" style="background: linear-gradient(135deg, #f72585, #b5179e);">
                            <i class="fas fa-building" aria-hidden="true"></i>
                            <span class="election-status active">Active • 1 day left</span>
                        </div>
                        <div class="election-details">
                            <h4 class="election-title">HOA Board Election</h4>
                            <div class="election-meta">
                                <div class="election-date">
                                    <i class="far fa-calendar-alt" aria-hidden="true"></i> May 25 - May 31
                                </div>
                                <div><i class="fas fa-users" aria-hidden="true"></i> 5 candidates</div>
                            </div>
                            <div class="progress-container">
                                <div class="progress-label">
                                    <span>Participation (892 voters)</span>
                                    <span>45%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 45%" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                            <div class="election-stats">
                                <div class="stat-item">
                                    <i class="fas fa-check-circle" aria-hidden="true"></i>
                                    <span>512 Verified</span>
                                </div>
                                <div class="stat-item">
                                    <i class="fas fa-user-clock" aria-hidden="true"></i>
                                    <span>380 Pending</span>
                                </div>
                            </div>
                            <div class="election-actions">
                                <button class="btn btn-outline" aria-label="View election results">
                                    <i class="fas fa-chart-bar" aria-hidden="true"></i> Results
                                </button>
                                <button class="btn btn-primary" aria-label="Manage election">
                                    <i class="fas fa-cog" aria-hidden="true"></i> Manage
                                </button>
                            </div>
                        </div>
                    </article>
                </div>
            </section>

            <!-- Recent Activity Section -->
            <section aria-labelledby="recent-activity-heading">
                <div class="section-header">
                    <h3 id="recent-activity-heading" class="section-title">
                        <i class="fas fa-history" aria-hidden="true"></i> Recent Activity
                    </h3>
                </div>
                <div class="activity-timeline" role="list">
                    <div class="timeline-item" role="listitem">
                        <div class="timeline-icon success">
                            <i class="fas fa-check-circle" aria-hidden="true"></i>
                        </div>
                        <div class="timeline-content">
                            <p>New vote recorded for <strong>Student Council Election</strong></p>
                            <small>2 minutes ago</small>
                        </div>
                    </div>
                    <div class="timeline-item" role="listitem">
                        <div class="timeline-icon info">
                            <i class="fas fa-info-circle" aria-hidden="true"></i>
                        </div>
                        <div class="timeline-content">
                            <p>Candidate <strong>Alex Morgan</strong> updated their profile</p>
                            <small>1 hour ago</small>
                        </div>
                    </div>
                    <div class="timeline-item" role="listitem">
                        <div class="timeline-icon warning">
                            <i class="fas fa-exclamation-triangle" aria-hidden="true"></i>
                        </div>
                        <div class="timeline-content">
                            <p>Voter verification required for <strong>5 pending registrations</strong></p>
                            <small>3 hours ago</small>
                        </div>
                    </div>
                </div>
            </section>
        </section>

        <!-- Elections Management Section -->
        <section id="elections-content" class="content-section" aria-labelledby="elections-heading">
            <div class="container">
                <header>
                    <h1 id="elections-heading">Elections Dashboard</h1>
                    <a th:href="@{election}" class="btn btn-primary" id="createElectionBtn" aria-label="Create new election">
                        <i class="fas fa-plus" aria-hidden="true"></i> Create New Election
                    </a>
                </header>

                <div class="filters" role="group" aria-label="Election filters">
                    <button class="filter-btn active" data-status="all" aria-pressed="true">All Elections</button>
                    <button class="filter-btn" data-status="active" aria-pressed="false">Active</button>
                    <button class="filter-btn" data-status="upcoming" aria-pressed="false">Upcoming</button>
                    <button class="filter-btn" data-status="ended" aria-pressed="false">Ended</button>
                </div>

                <div class="elections-grid" id="electionsContainer" aria-live="polite">
                    <div class="loading-state" aria-busy="true" aria-hidden="false">
                        <i class="fas fa-spinner fa-spin" aria-hidden="true"></i>
                        <span>Loading elections...</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Candidates Management Section -->
        <section id="candidates-content" class="content-section" aria-labelledby="candidates-heading">
            <div class="app-container">
                <header class="app-header">
                    <div class="container">
                        <h1 id="candidates-heading">Candidate Management</h1>
                        <div class="app-actions">
                            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addCandidateModal" aria-label="Add new candidate">
                                <i class="fas fa-plus" aria-hidden="true"></i> Add Candidate
                            </button>
                        </div>
                    </div>
                </header>

                <main class="app-main">
                    <div class="container">
                        <!-- Search and Filter -->
                        <div class="card mb-4">
                            <div class="card-body">
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <div class="search-box">
                                            <label for="searchInput" class="sr-only">Search candidates</label>
                                            <i class="fas fa-search" aria-hidden="true"></i>
                                            <input type="text" class="form-control" id="searchInput" placeholder="Search candidates...">
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="partyFilter" class="sr-only">Filter by party</label>
                                        <select class="form-select" id="partyFilter">
                                            <option value="">All Parties</option>
                                            <option th:each="party : ${#lists.distinct(candidates.![party])}" 
                                                    th:text="${party}" th:value="${party}"></option>
                                        </select>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="regionFilter" class="sr-only">Filter by region</label>
                                        <select class="form-select" id="regionFilter">
                                            <option value="">All Regions</option>
                                            <option th:each="region : ${#lists.distinct(candidates.![region])}" 
                                                    th:text="${region}" th:value="${region}"></option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Candidates Table -->
                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover" id="candidatesTable" aria-describedby="candidatesTableDesc">
                                        <caption id="candidatesTableDesc" class="sr-only">List of candidates with their details</caption>
                                        <thead>
                                            <tr>
                                                <th scope="col">Name</th>
                                                <th scope="col">Birthdate</th>
                                                <th scope="col">Location</th>
                                                <th scope="col">Region</th>
                                                <th scope="col">Party</th>
                                                <th scope="col">Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each="candidate : ${candidates}">
                                                <td>
                                                    <div class="d-flex align-items-center">
                                                        <div class="avatar me-3">
                                                            <span th:text="${#strings.substring(candidate.firstname, 0, 1) + #strings.substring(candidate.lastname, 0, 1)}"></span>
                                                        </div>
                                                        <div>
                                                            <div class="fw-bold" th:text="${candidate.firstname + ' ' + candidate.lastname}"></div>
                                                            <div class="text-muted small" th:text="${candidate.role}"></div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div th:text="${#temporals.format(candidate.birthdate, 'dd MMM yyyy')}"></div>
                                                    <div class="text-muted small" th:text="${candidate.gender}"></div>
                                                </td>
                                                <td th:text="${candidate.location}"></td>
                                                <td th:text="${candidate.region}"></td>
                                                <td>
                                                    <span class="badge bg-primary" th:text="${candidate.party}"></span>
                                                </td>
                                                <td>
                                                    <div class="btn-group btn-group-sm" role="group" aria-label="Candidate actions">
                                                        <button class="btn btn-outline-primary" title="View" aria-label="View candidate">
                                                            <i class="fas fa-eye" aria-hidden="true"></i>
                                                        </button>
                                                        <button class="btn btn-outline-secondary" title="Edit" aria-label="Edit candidate">
                                                            <i class="fas fa-pencil-alt" aria-hidden="true"></i>
                                                        </button>
                                                        <button class="btn btn-outline-danger" title="Delete" aria-label="Delete candidate">
                                                            <i class="fas fa-trash" aria-hidden="true"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr th:if="${candidates.empty}">
                                                <td colspan="6" class="text-center text-muted py-4">No candidates found</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>

                <footer class="app-footer">
                    <div class="container">
                        <div class="text-center text-muted">
                            &copy; <span th:text="${#temporals.format(#temporals.createToday(), 'yyyy')}">2025</span>
                            Candidate Management System
                        </div>
                    </div>
                </footer>
            </div>
        </section>

        <!-- Voters Management Section -->
        <section id="voters-content" class="content-section" aria-labelledby="voters-heading">
            <div class="container-fluid">
                <div class="row">
                    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                            <h1 id="voters-heading">Voter Management</h1>
                            <div class="btn-toolbar mb-2 mb-md-0">
                                <div class="btn-group me-2" role="group" aria-label="Export options">
                                    <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
                                </div>
                                <button type="button" class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#filterModal" aria-label="Filter voters">
                                    <i class="fas fa-filter" aria-hidden="true"></i> Filters
                                </button>
                            </div>
                        </div>

                        <!-- Voter Table -->
                        <div class="table-responsive">
                            <table class="table table-striped table-hover" id="votersTable" aria-describedby="votersTableDesc">
                                <caption id="votersTableDesc" class="sr-only">List of voters with their details</caption>
                                <thead>
                                    <tr>
                                        <th scope="col">Name</th>
                                        <th scope="col">Birth Date</th>
                                        <th scope="col">Gender</th>
                                        <th scope="col">Location</th>
                                        <th scope="col">Region</th>
                                        <th scope="col">Party</th>
                                        <th scope="col">Role</th>
                                        <th scope="col">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="votersTableBody">
                                    <!-- Will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>

                        <!-- Pagination -->
                        <nav aria-label="Voters pagination">
                            <ul class="pagination justify-content-center" id="pagination">
                                <!-- Will be populated by JavaScript -->
                            </ul>
                        </nav>
                    </main>
                </div>
            </div>
        </section>

        <!-- Vote Office section -->
        <section id="voteoffice-content" class="content-section" aria-labelledby="voteoffice-heading">
            <div class="container">
                <header>
                    <h1 id="voteoffice-heading">Vote Offices Management</h1>
                    <a href="#" class="btn btn-primary" id="addOfficeBtn" aria-label="Add new vote office">
                        <i class="fas fa-plus" aria-hidden="true"></i> Add New Office
                    </a>
                </header>
                
                <div class="controls">
                    <div class="search-bar">
                        <label for="officeSearchInput" class="sr-only">Search offices</label>
                        <i class="fas fa-search" aria-hidden="true"></i>
                        <input type="text" id="officeSearchInput" placeholder="Search offices...">
                    </div>
                </div>
                
                <div class="offices-grid" id="officesContainer" aria-live="polite">
                    <!-- Offices will be loaded here dynamically -->
                </div>
                
                <nav aria-label="Vote offices pagination">
                    <ul class="pagination" id="officePagination">
                        <!-- Pagination will be loaded here dynamically -->
                    </ul>
                </nav>
            </div>
        </section>

        <!-- Results Section -->
        <section id="results-content" class="content-section" aria-labelledby="results-heading">
            <div class="container">
                <div class="section-header">
                    <h1 id="results-heading">Election Results</h1>
                    <div class="export-actions">
                        <button class="btn btn-outline" aria-label="Export results as PDF">
                            <i class="fas fa-file-pdf" aria-hidden="true"></i> Export PDF
                        </button>
                        <button class="btn btn-outline" aria-label="Export results as CSV">
                            <i class="fas fa-file-excel" aria-hidden="true"></i> Export CSV
                        </button>
                    </div>
                </div>

                <div class="results-filter">
                    <label for="electionSelect" class="sr-only">Select election</label>
                    <select class="election-select" id="electionSelect">
                        <option value="">Select an election</option>
                        <option value="1" selected>Student Council Election 2024</option>
                        <option value="2">HOA Board Election</option>
                        <option value="3">Faculty Senate Election (2023)</option>
                    </select>
                </div>

                <div class="results-container">
                    <div class="results-summary">
                        <article class="summary-card">
                            <h3>Total Votes</h3>
                            <div class="summary-value">782</div>
                            <div class="summary-meta">62% participation</div>
                        </article>
                        <article class="summary-card">
                            <h3>Valid Votes</h3>
                            <div class="summary-value">765</div>
                            <div class="summary-meta">97.8% of total</div>
                        </article>
                        <article class="summary-card">
                            <h3>Invalid Votes</h3>
                            <div class="summary-value">17</div>
                            <div class="summary-meta">2.2% of total</div>
                        </article>
                    </div>

                    <div class="results-chart">
                        <div class="chart-header">
                            <h3>President - Vote Distribution</h3>
                            <div class="chart-legend" role="list">
                                <div class="legend-item" role="listitem">
                                    <span class="legend-color" style="background-color: #4f46e5;"></span>
                                    <span>Michael Chen (43.7%)</span>
                                </div>
                                <div class="legend-item" role="listitem">
                                    <span class="legend-color" style="background-color: #f59e0b;"></span>
                                    <span>Sarah Williams (36.9%)</span>
                                </div>
                                <div class="legend-item" role="listitem">
                                    <span class="legend-color" style="background-color: #10b981;"></span>
                                    <span>James Wilson (19.4%)</span>
                                </div>
                            </div>
                        </div>
                        <div class="chart-container" role="img" aria-label="Vote distribution chart">
                            <canvas id="resultsChart" width="400" height="200"></canvas>
                            <noscript>
                                <p>Vote distribution: Michael Chen 43.7%, Sarah Williams 36.9%, James Wilson 19.4%</p>
                            </noscript>
                        </div>
                    </div>

                    <div class="results-table">
                        <table aria-describedby="resultsTableDesc">
                            <caption id="resultsTableDesc" class="sr-only">Election results by position</caption>
                            <thead>
                                <tr>
                                    <th scope="col">Position</th>
                                    <th scope="col">Winner</th>
                                    <th scope="col">Votes</th>
                                    <th scope="col">Percentage</th>
                                    <th scope="col">Margin</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th scope="row">President</th>
                                    <td>
                                        <div class="candidate-info">
                                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Michael Chen photo">
                                            <span>Michael Chen</span>
                                        </div>
                                    </td>
                                    <td>342</td>
                                    <td>43.7%</td>
                                    <td>+53 votes</td>
                                </tr>
                                <tr>
                                    <th scope="row">Vice President</th>
                                    <td>
                                        <div class="candidate-info">
                                            <img src="https://randomuser.me/api/portraits/women/28.jpg" alt="Sarah Williams photo">
                                            <span>Sarah Williams</span>
                                        </div>
                                    </td>
                                    <td>289</td>
                                    <td>36.9%</td>
                                    <td>+134 votes</td>
                                </tr>
                                <tr>
                                    <th scope="row">Treasurer</th>
                                    <td>
                                        <div class="candidate-info">
                                            <img src="https://randomuser.me/api/portraits/women/42.jpg" alt="Lisa Thompson photo">
                                            <span>Lisa Thompson</span>
                                        </div>
                                    </td>
                                    <td>412</td>
                                    <td>52.6%</td>
                                    <td>+287 votes</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section id="settings-content" class="content-section" aria-labelledby="settings-heading">
            <div class="section-header">
                <h3 id="settings-heading" class="section-title">
                    <i class="fas fa-cog" aria-hidden="true"></i> Settings
                </h3>
            </div>
            <div class="settings-content">
                <div class="settings-tabs" role="tablist" aria-label="Settings tabs">
                    <button class="settings-tab active" data-tab="account" role="tab" aria-selected="true" aria-controls="account-tab">Account</button>
                    <button class="settings-tab" data-tab="security" role="tab" aria-selected="false" aria-controls="security-tab">Security</button>
                    <button class="settings-tab" data-tab="notifications" role="tab" aria-selected="false" aria-controls="notifications-tab">Notifications</button>
                    <button class="settings-tab" data-tab="system" role="tab" aria-selected="false" aria-controls="system-tab">System</button>
                </div>

                <div class="settings-tab-content active" id="account-tab" role="tabpanel" aria-labelledby="account-tab" data-tab="account">
                    <div class="settings-card">
                        <h4><i class="fas fa-user-shield" aria-hidden="true"></i> Account Settings</h4>
                        <div class="settings-form">
                            <div class="form-group">
                                <label for="username">Username</label>
                                <input type="text" id="username" value="admin123" readonly>
                            </div>
                            <div class="form-group">
                                <label for="fullname">Full Name</label>
                                <input type="text" id="fullname" value="Sarah Johnson">
                            </div>
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" id="email" value="admin@votex.com">
                            </div>
                            <div class="form-group">
                                <label>Profile Photo</label>
                                <div class="file-upload">
                                    <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Current profile" class="profile-preview">
                                    <div class="upload-actions">
                                        <button class="btn btn-outline btn-sm" aria-label="Change profile photo">
                                            <i class="fas fa-camera" aria-hidden="true"></i> Change
                                        </button>
                                        <button class="btn btn-outline btn-sm" aria-label="Remove profile photo">
                                            <i class="fas fa-trash" aria-hidden="true"></i> Remove
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary">Update Account</button>
                        </div>
                    </div>
                </div>

                <div class="settings-tab-content" id="security-tab" role="tabpanel" aria-labelledby="security-tab" data-tab="security">
                    <div class="settings-card">
                        <h4><i class="fas fa-lock" aria-hidden="true"></i> Security</h4>
                        <div class="settings-form">
                            <div class="form-group">
                                <label for="currentPassword">Current Password</label>
                                <input type="password" id="currentPassword" placeholder="Enter current password">
                            </div>
                            <div class="form-group">
                                <label for="newPassword">New Password</label>
                                <input type="password" id="newPassword" placeholder="Enter new password">
                                <small class="form-text">Password must be at least 8 characters long</small>
                            </div>
                            <div class="form-group">
                                <label for="confirmPassword">Confirm New Password</label>
                                <input type="password" id="confirmPassword" placeholder="Confirm new password">
                            </div>
                            <div class="form-group">
                                <label for="2fa-toggle">Two-Factor Authentication</label>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="2fa-toggle" checked>
                                    <label for="2fa-toggle"></label>
                                    <span>Enabled</span>
                                </div>
                                <small class="form-text">Add an extra layer of security to your account</small>
                            </div>
                            <button class="btn btn-primary">Update Security Settings</button>
                        </div>
                    </div>
                </div>

                <div class="settings-tab-content" id="notifications-tab" role="tabpanel" aria-labelledby="notifications-tab" data-tab="notifications">
                    <div class="settings-card">
                        <h4><i class="fas fa-bell" aria-hidden="true"></i> Notification Preferences</h4>
                        <div class="settings-options">
                            <div class="option-group">
                                <h5>Email Notifications</h5>
                                <div class="option-item">
                                    <input type="checkbox" id="email-election" checked>
                                    <label for="email-election">Election updates</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="email-results" checked>
                                    <label for="email-results">Election results</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="email-system">
                                    <label for="email-system">System notifications</label>
                                </div>
                            </div>
                            <div class="option-group">
                                <h5>In-App Notifications</h5>
                                <div class="option-item">
                                    <input type="checkbox" id="app-new-voter" checked>
                                    <label for="app-new-voter">New voter registrations</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="app-new-candidate" checked>
                                    <label for="app-new-candidate">New candidate applications</label>
                                </div>
                                <div class="option-item">
                                    <input type="checkbox" id="app-vote-activity" checked>
                                    <label for="app-vote-activity">Vote activity</label>
                                </div>
                            </div>
                            <button class="btn btn-primary">Save Preferences</button>
                        </div>
                    </div>
                </div>

                <div class="settings-tab-content" id="system-tab" role="tabpanel" aria-labelledby="system-tab" data-tab="system">
                    <div class="settings-card">
                        <h4><i class="fas fa-server" aria-hidden="true"></i> System Settings</h4>
                        <div class="settings-form">
                            <div class="form-group">
                                <label for="timezone">Timezone</label>
                                <select id="timezone">
                                    <option>(UTC-05:00) Eastern Time (US & Canada)</option>
                                    <option>(UTC-08:00) Pacific Time (US & Canada)</option>
                                    <option>(UTC+00:00) London</option>
                                    <option>(UTC+01:00) Berlin</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="dateFormat">Date Format</label>
                                <select id="dateFormat">
                                    <option>MM/DD/YYYY</option>
                                    <option>DD/MM/YYYY</option>
                                    <option>YYYY-MM-DD</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="resultsVisibility">Results Visibility</label>
                                <select id="resultsVisibility">
                                    <option>Show after election ends</option>
                                    <option>Show real-time (public)</option>
                                    <option>Show real-time (admin only)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="electionDuration">Default Election Duration</label>
                                <input type="number" id="electionDuration" value="14" min="1" max="30">
                                <small class="form-text">Days</small>
                            </div>
                            <button class="btn btn-primary">Save System Settings</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
</div>

<!-- Add Candidate Modal -->
<div class="modal fade" id="addCandidateModal" tabindex="-1" role="dialog" aria-labelledby="addCandidateModalTitle" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addCandidateModalTitle">Add New Candidate</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="candidateForm" novalidate>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="firstname" class="form-label">First Name</label>
                            <input type="text" class="form-control" id="firstname" required>
                            <div class="invalid-feedback">Please provide a first name</div>
                        </div>
                        <div class="col-md-6">
                            <label for="lastname" class="form-label">Last Name</label>
                            <input type="text" class="form-control" id="lastname" required>
                            <div class="invalid-feedback">Please provide a last name</div>
                        </div>
                        <div class="col-md-6">
                            <label for="birthdate" class="form-label">Birthdate</label>
                            <input type="date" class="form-control" id="birthdate">
                        </div>
                        <div class="col-md-6">
                            <label for="gender" class="form-label">Gender</label>
                            <select class="form-select" id="gender">
                                <option value="">Select Gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="party" class="form-label">Political Party</label>
                            <input type="text" class="form-control" id="party">
                        </div>
                        <div class="col-md-6">
                            <label for="role" class="form-label">Role</label>
                            <select class="form-select" id="role">
                                <option value="CANDIDATE">Candidate</option>
                                <option value="LEADER">Party Leader</option>
                                <option value="REPRESENTATIVE">Representative</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label for="region" class="form-label">Region</label>
                            <input type="text" class="form-control" id="region">
                        </div>
                        <div class="col-md-4">
                            <label for="department" class="form-label">Department</label>
                            <input type="text" class="form-control" id="department">
                        </div>
                        <div class="col-md-4">
                            <label for="arron" class="form-label">Arron</label>
                            <input type="text" class="form-control" id="arron">
                        </div>
                        <div class="col-12">
                            <label for="location" class="form-label">Location</label>
                            <input type="text" class="form-control" id="location">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Save Candidate</button>
            </div>
        </div>
    </div>
</div>

<!-- Filter Modal -->
<div class="modal fade" id="filterModal" tabindex="-1" role="dialog" aria-labelledby="filterModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="filterModalLabel">Filter Voters</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="filterForm">
                    <div class="mb-3">
                        <label for="voterRegionFilter" class="form-label">Region</label>
                        <select class="form-select" id="voterRegionFilter">
                            <option value="">All Regions</option>
                            <option th:each="region : ${regions}" th:value="${region}" th:text="${region}"></option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="voterPartyFilter" class="form-label">Political Party</label>
                        <select class="form-select" id="voterPartyFilter">
                            <option value="">All Parties</option>
                            <option th:each="party : ${parties}" th:value="${party}" th:text="${party}"></option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="voterGenderFilter" class="form-label">Gender</label>
                        <select class="form-select" id="voterGenderFilter">
                            <option value="">All Genders</option>
                            <option value="MALE">Male</option>
                            <option value="FEMALE">Female</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="applyFilters">Apply Filters</button>
            </div>
        </div>
    </div>
</div>

<!-- Voter Details Modal -->
<div class="modal fade" id="voterDetailsModal" tabindex="-1" role="dialog" aria-labelledby="voterDetailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="voterDetailsModalLabel">Voter Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="voterDetailsContent">
                <!-- Will be populated by JavaScript -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Create Election Modal -->
<div class="modal" id="createElectionModal" tabindex="-1" role="dialog" aria-labelledby="createElectionModalTitle" aria-hidden="true">
    <div class="modal-content" role="document">
        <div class="modal-header">
            <h3 id="createElectionModalTitle">Create New Election</h3>
            <button class="modal-close" aria-label="Close modal">&times;</button>
        </div>
        <div class="modal-body">
            <form id="electionForm" novalidate>
                <div class="form-group">
                    <label for="electionTitle">Election Title</label>
                    <input type="text" id="electionTitle" name="electionTitle" placeholder="Enter election title" required>
                    <div class="invalid-feedback">Please provide a title for the election.</div>
                </div>
                <div class="form-group">
                    <label for="electionDescription">Description</label>
                    <textarea id="electionDescription" placeholder="Enter election description" rows="3"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="electionStartDate">Start Date</label>
                        <input type="datetime-local" id="electionStartDate" required>
                        <div class="invalid-feedback">Please select a start date.</div>
                    </div>
                    <div class="form-group">
                        <label for="electionEndDate">End Date</label>
                        <input type="datetime-local" id="electionEndDate" required>
                        <div class="invalid-feedback">Please select an end date.</div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="electionType">Election Type</label>
                    <select id="electionType">
                        <option>Single Choice</option>
                        <option>Multiple Choice</option>
                        <option>Ranked Choice</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="eligibleVoters">Eligible Voters</label>
                    <select id="eligibleVoters" multiple>
                        <option>All registered voters</option>
                        <option>Students</option>
                        <option>Faculty</option>
                        <option>HOA Members</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="electionBanner">Election Banner</label>
                    <div class="file-upload">
                        <label for="bannerUpload" class="upload-prompt">
                            <i class="fas fa-image" aria-hidden="true"></i>
                            <p>Click to upload banner image</p>
                        </label>
                        <input type="file" id="bannerUpload" accept="image/*">
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline modal-cancel" data-bs-dismiss="modal">Cancel</button>
            <button class="btn btn-primary">Create Election</button>
        </div>
    </div>
</div>

<!-- Logout Confirmation Modal -->
<div class="modal" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="logoutModalTitle" aria-hidden="true">
    <div class="modal-content small" role="document">
        <div class="modal-header">
            <h3 id="logoutModalTitle">Confirm Logout</h3>
            <button class="modal-close" aria-label="Close modal">&times;</button>
        </div>
        <div class="modal-body">
            <p>Are you sure you want to logout from your account?</p>
        </div>
        <div class="modal-footer">
            <button class="btn btn-outline modal-cancel" data-bs-dismiss="modal">Cancel</button>
            <button class="btn btn-primary" id="confirmLogout">Logout</button>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="../static/js/dash.js"></script>
</body>
</html>